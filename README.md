# supplymentary-materials-and-codes-of-paper
This is a repository for the paper ' Variance reduction in online A/B test by Inference on Ex-post Residual'

This repository contains two parts. One is the supplymentary material of the paper 'Variance reduction in online A/B test by Inference on Ex-post Residual', which contains one proof of a derivation and details descriptions of the experiments from the main paper. Due to the limitation of the length of the article, we can only present them here for the integrity of the article. The other one provides the code of the data generating process and the experiments in the paper.

Vita_model_datagenerate.py shows how we generate the data under three kinds of treatments mentioned in the main paper. Apart from the three treatments, you can also change certain part of the code and try other treatments. The model parameters and sample size can also be changed as you like. The default parameters are the ones used in our article.

main_experiments.py corresponds to section 5.3 of the main paper, where we compare Linear, GBDT, LSTM adjustment using the samples generated by Vita_model_datagenerate.py. For each kinds of methods, you can also choose to use pooled population or fitting the adjusting functions separately by changing the variable 'pool_choice' in the code. Whether averaging each kinds of covarietes over time can be determined throuth the variable 'ave_choice' in the code. The output of the code will be the ratio of the variance of each method to the no-adjustment variance. 

compare_of_folds.py corresponds the table 4 in our main paper where we compare the results of different number of folds.

Note that the data of the empirical study of section 5.4 is private and we can not present them here. But the results can be obtained using the same code as section 5.3, i.e., main_experiments.py.
